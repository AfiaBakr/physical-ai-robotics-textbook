# Implementation Plan: Physical AI & Humanoid Robotics Textbook

**Branch**: `001-physical-ai-robotics-book` | **Date**: 2025-12-17 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-physical-ai-robotics-book/spec.md`

## Summary

This textbook is a Docusaurus-based educational resource for a capstone course on Physical AI, covering ROS 2, simulation (Gazebo/Unity), NVIDIA Isaac, and Vision-Language-Action (VLA) systems. Module 2 focuses on "The Digital Twin" - teaching digital twin concepts, physics-based simulation, Gazebo workflows, Unity visualization, and simulated sensor pipelines.

---

## Technical Context

**Language/Version**: TypeScript/JavaScript (Docusaurus), Python 3.10+ (ROS 2 examples)
**Primary Dependencies**: Docusaurus 3.x, MDX, Mermaid, KaTeX
**Storage**: Static files (Markdown/MDX), no database
**Testing**: Docusaurus build validation, Python validation scripts for labs
**Target Platform**: Web (GitHub Pages), Ubuntu 22.04 for ROS 2/Gazebo examples
**Project Type**: Static documentation site with educational content
**Performance Goals**: Site loads in < 3 seconds, all examples run successfully
**Constraints**: Content must be reproducible on Ubuntu 22.04 + ROS 2 Humble + Gazebo Fortress
**Scale/Scope**: 10+ modules, ~50 lessons, ~30 labs

---

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| **I. Spec-Driven Development** | ✅ PASS | Module 2 spec created before implementation |
| **II. Test-Driven Development** | ✅ PASS | Labs have validation scripts, quiz for assessment |
| **III. Simple, Composable Libraries** | ✅ PASS | MDX components are reusable (QuizComponent) |
| **IV. Clear and Versioned APIs** | ✅ PASS | Content schema defined in contracts/ |

All gates passed. Proceeding with implementation.

---

## Project Structure

### Documentation (this feature)

```text
specs/001-physical-ai-robotics-book/
├── plan.md                          # This file
├── spec.md                          # Main feature specification
├── research.md                      # Phase 0 research findings
├── data-model.md                    # Content entity definitions
├── quickstart.md                    # Developer quickstart guide
├── modules/
│   └── module-02-digital-twin-spec.md  # Module 2 specification
├── contracts/
│   ├── content-schema.yaml          # General content schema
│   └── module-02-schema.yaml        # Module 2 specific schema
├── checklists/
│   ├── requirements.md              # Main requirements checklist
│   └── module-02-requirements.md    # Module 2 checklist
└── tasks.md                         # Implementation tasks (generated by /sp.tasks)
```

### Source Code (repository root)

```text
physical-ai-robotics-textbook/
├── docs/
│   ├── intro.mdx                    # Course introduction
│   ├── module-01-ros2/              # Module 1: ROS 2 (IMPLEMENTED)
│   │   ├── _category_.json
│   │   ├── lesson-01-physical-ai.mdx
│   │   ├── lesson-02-ros2-architecture.mdx
│   │   ├── lesson-03-rclpy-agents.mdx
│   │   ├── lesson-04-urdf-fundamentals.mdx
│   │   └── lesson-05-simulation-review.mdx
│   ├── module-02-simulation/        # Module 2: Digital Twin (TO IMPLEMENT)
│   │   ├── _category_.json
│   │   ├── lesson-01-digital-twin.mdx
│   │   ├── lesson-02-gazebo-workflows.mdx
│   │   └── lesson-03-sensors-unity.mdx
│   └── appendix/
│       └── references.mdx
├── labs/
│   ├── intro.mdx
│   ├── module-01/                   # Module 1 labs (IMPLEMENTED)
│   └── module-02/                   # Module 2 labs (TO IMPLEMENT)
│       ├── _category_.json
│       ├── lab-01-physics-experiments/
│       │   ├── README.md
│       │   ├── starter/
│       │   ├── solution/
│       │   └── validate.py
│       ├── lab-02-gazebo-worlds/
│       │   ├── README.md
│       │   ├── starter/worlds/
│       │   ├── solution/worlds/
│       │   └── validate.py
│       └── lab-03-sensor-visualization/
│           ├── README.md
│           ├── starter/
│           ├── solution/
│           └── validate.py
├── src/
│   ├── components/
│   │   ├── QuizComponent.tsx        # Interactive quiz (IMPLEMENTED)
│   │   └── QuizComponent.module.css
│   └── css/
│       └── custom.css
├── static/
│   └── img/
├── docusaurus.config.ts
├── sidebars.ts
├── sidebarsLabs.ts
└── package.json
```

**Structure Decision**: Single Docusaurus project with modular content organization. Each module has its own directory in `docs/` and `labs/`. Follows established Module 1 pattern.

---

## Module 2: The Digital Twin - Implementation Plan

### Overview

Module 2 teaches digital twin concepts and simulation skills using Gazebo (primary) and Unity (conceptual comparison). The user has specified 3 lessons + 3 labs structure.

### Lesson Structure (3 Lessons)

| Lesson | Title | Content Focus | Duration |
|--------|-------|---------------|----------|
| 1 | Digital Twin & Physics Simulation | Digital twin concept, physics basics (gravity, collisions, joints) | 45-60 min |
| 2 | Gazebo Simulation Workflows | World files, physics engines, URDF/SDF interaction | 60-90 min |
| 3 | Unity Visualization & Sensor Simulation | Unity overview, sensor configuration, Gazebo vs Unity | 60-75 min |

### Lab Structure (3 Labs)

| Lab | Title | Objective | Duration |
|-----|-------|-----------|----------|
| 1 | Physics Experiments | Observe robot behavior under different physics settings | 60 min |
| 2 | Gazebo Worlds | Launch robot in Gazebo, modify world parameters | 90 min |
| 3 | Sensor Visualization | Visualize and analyze simulated sensor data | 90 min |

### Required Diagrams (3 Mermaid)

1. **Simulation Pipeline** - URDF/SDF → Gazebo → Physics → Sensors → ROS 2
2. **Sensor Raycasting Flow** - How sensor data flows from physics to topics
3. **Gazebo vs Unity Comparison** - Side-by-side feature comparison

### Closure

- Summary of key concepts
- Review quiz (10 questions covering all learning outcomes)

---

## Key Research Decisions (from research.md)

| Decision | Choice | Rationale |
|----------|--------|-----------|
| Gazebo Version | Fortress (LTS) | Recommended for ROS 2 Humble, supported until 2026 |
| Physics Depth | Conceptual | Focus on intuition, not mathematical derivations |
| Unity Scope | Comparison only | No hands-on labs (requires C# knowledge) |
| Sensor Coverage | 4 types | Camera, depth camera, LiDAR, IMU |
| SDF vs URDF | URDF for robots, SDF for worlds | Practical workflow, minimal new format learning |

---

## Implementation Phases

### Phase 1: Lesson Content (Priority: High)

1. Create `docs/module-02-simulation/_category_.json`
2. Create `lesson-01-digital-twin.mdx`
   - Digital twin concept with 2 real-world examples
   - Physics simulation fundamentals (gravity, collision, friction)
   - Mermaid diagram: Simulation Pipeline
3. Create `lesson-02-gazebo-workflows.mdx`
   - Gazebo architecture and ROS 2 integration
   - SDF world file tutorial
   - URDF-to-SDF conversion explanation
4. Create `lesson-03-sensors-unity.mdx`
   - Unity overview (conceptual)
   - Gazebo vs Unity comparison table
   - Sensor configuration tutorial (4 sensor types)
   - Mermaid diagrams: Sensor flow, comparison chart

### Phase 2: Lab Exercises (Priority: High)

1. Create `labs/module-02/_category_.json`
2. Lab 1: Physics Experiments
   - Starter: Python script to observe physics parameters
   - Solution: Complete observation script
   - Validate: Check parameter modification outputs
3. Lab 2: Gazebo Worlds
   - Starter: Empty world SDF template
   - Solution: World with terrain, obstacles, lighting
   - Validate: SDF structure and Gazebo launch
4. Lab 3: Sensor Visualization
   - Starter: Sensor configuration template
   - Solution: 3-sensor robot with ROS 2 topics
   - Validate: Topic publication and message types

### Phase 3: Quiz and References (Priority: Medium)

1. Create 10-question quiz for Lesson 3
   - 2 questions per learning outcome
2. Update `appendix/references.mdx` with 5 new citations
3. Update `sidebars.ts` with Module 2 navigation

### Phase 4: Validation (Priority: High)

1. Run `npm run build` to verify Docusaurus build
2. Test all lab validation scripts
3. Verify Mermaid diagrams render correctly
4. Check all internal links

---

## Dependencies

- Module 1 must be complete (✅ DONE)
- Gazebo Fortress installed for testing labs
- ROS 2 Humble for sensor examples

---

## Risks and Mitigations

| Risk | Mitigation |
|------|------------|
| Gazebo version incompatibility | Test on both Fortress and Harmonic |
| Lab validation scripts fail on different systems | Use platform-agnostic Python with rclpy |
| Mermaid diagrams too complex | Keep diagrams simple, use consistent styling |

---

## Complexity Tracking

No constitution violations. Implementation follows established Module 1 patterns.

---

## Next Steps

1. Run `/sp.tasks` to generate implementation tasks
2. Implement lessons in order (1 → 2 → 3)
3. Implement labs in parallel with lessons
4. Final validation and build test

---

*Plan created: 2025-12-17*
*Last updated: 2025-12-17*
